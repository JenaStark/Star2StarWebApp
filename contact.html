<!doctype html>
<!-- Website Template by freewebsitetemplates.com -->
<html>
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Contact - Mustache Enthusiast</title>

	<link rel="stylesheet" href="css/base2.css" />


	<!-- LOCAL -->
	<link rel="stylesheet" type="text/css" href="css/style.css">
	<link rel="stylesheet" type="text/css" href="css/mobile.css" media="screen and (max-width : 568px)">
	<script type="text/javascript" src="js/mobile.js"></script>

	<!-- REACT AND BABEL-->

	<script src="https://fb.me/react-15.0.2.js"></script>
	<script src="https://fb.me/react-dom-15.0.2.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/babel-core/5.8.23/browser.min.js"></script>

	<script src="https://cdnjs.cloudflare.com/ajax/libs/marked/0.3.5/marked.min.js"></script>

	<!-- JQUERY -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.2/jquery.min.js"></script>
	<script src="//code.jquery.com/jquery-1.10.2.js"></script>
	<script src="//code.jquery.com/ui/1.11.4/jquery-ui.js"></script>
	<link rel="stylesheet" href="//code.jquery.com/ui/1.11.4/themes/smoothness/jquery-ui.css">

	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

	<!-- Optional theme -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">

	<!-- Latest compiled and minified JavaScript -->
	<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script>
</head>
<body>

	<div id="header">
		<a href="index.html" class="logo">
			<img class = "center" src="images/logo.png" alt="Logo" height="230" width="250" align="middle">
		</a>
		<ul id="navigation">

			<li>
				<a href="about.html">about</a>
			</li>
			<li class ="selected">
				<a href="contact.html">Add promotion</a>
			</li>
			<li>
				<a href="promotionList.html">Complete promotion</a>
			</li>
			<li>
				<a href="gallery.html">Results</a>
			</li>

		</ul>
	</div>

	<div id="body">
		<div id="content"></div>
		<!-- Form Box
				-Promotion Form
				-->

	<script type="text/babel">

		var Comment = React.createClass({
			rawMarkup: function() {
				var rawMarkup = marked(this.props.children.toString(), {sanitize: true});
				return { __html: rawMarkup };
			},

			render: function() {
				return (
						<div className="comment">
						<h2 className="commentAuthor">
						{this.props.author}
				</h2>
				<span dangerouslySetInnerHTML={this.rawMarkup()} />
				</div>
				);
			}
		});

		var CommentBox = React.createClass({
			loadCommentsFromServer: function() {
				$.ajax({
					url: this.props.url,
					dataType: 'json',
					cache: false,
					success: function(data) {
						this.setState({data: data});
					}.bind(this),
					error: function(xhr, status, err) {
						console.error(this.props.url, status, err.toString());
					}.bind(this)
				});
			},
			handleCommentSubmit: function(comment) {
				var comments = this.state.data;
				// Optimistically set an id on the new comment. It will be replaced by an
				// id generated by the server. In a production application you would likely
				// not use Date.now() for this and would have a more robust system in place.
				comment.id = Date.now();
				var newComments = comments.concat([comment]);
				this.setState({data: newComments});
				$.ajax({
					url: this.props.url,
					dataType: 'json',
					type: 'POST',
					data: comment,
					success: function(data) {
						this.setState({data: data});
					}.bind(this),
					error: function(xhr, status, err) {
						this.setState({data: comments});
						console.error(this.props.url, status, err.toString());
					}.bind(this)
				});
			},
			getInitialState: function() {
				return {data: []};
			},
			componentDidMount: function() {
				this.loadCommentsFromServer();
				setInterval(this.loadCommentsFromServer, this.props.pollInterval);
			},
			render: function() {
				return (
						<div className="commentBox">
						<h1>Current Promotions</h1>
				<CommentList data={this.state.data} />
				<CommentForm onCommentSubmit={this.handleCommentSubmit} />
				</div>
				);
			}
		});

		var CommentList = React.createClass({
			render: function() {
				var commentNodes = this.props.data.map(function(comment) {
					return (
							<Comment author={comment.author} key={comment.id}>
					{comment.text}
					</Comment>
					);
				});
				return (
						<div className="commentList">
						{commentNodes}
						</div>
				);
			}
		});


		$("#start").datepicker(
				{
					onSelect: function()
					{
						var start = $(this).datepicker('getDate');
					}
				});
		$("#end").datepicker(
				{
					onSelect: function()
					{
						var end = $(this).datepicker('getDate');
					}
				});

		var CommentForm = React.createClass({
			getInitialState: function() {
				return {author: '', text: ''. start};
			},
			handleAuthorChange: function(e) {
				this.setState({author: e.target.value});
			},
			handleTextChange: function(e) {
				this.setState({text: e.target.value});
			},
			handleSubmit: function(e) {
				e.preventDefault();
				var author = this.state.author.trim();
				var text = this.state.text.trim();
				if (!text || !author) {
					return;
				}
				this.props.onCommentSubmit({author: author, text: text});
				this.setState({author: '', text: ''});
			},
			render: function() {
				return (
						<form className="commentForm" onSubmit={this.handleSubmit}>
				<input
				type="text"
				placeholder="Promotion Name"
				value={this.state.author}
				onChange={this.handleAuthorChange}
				/>
				<p></p>
				<input
				type="text"
				placeholder="Promotion Description"
				value={this.state.text}
				onChange={this.handleTextChange}
				/>
				<p></p>
				<input type="submit" value="Post Promotion" />
						</form>
				);
			}
		});

		ReactDOM.render(
		<CommentBox url="/api/comments" pollInterval={2000} />,
				document.getElementById('content')
		);



	</script>
<p></p>
  <div id = "dateinput">
	  <span>Start Date: <input type="text" id="start"></span>

	  <span>End Date: <input type="text" id="end"></span>


	  <div class="form-group">
		  <label for="exampleInputFile">Upload Promotion materials</label>
		  <input type="file" id="exampleInputFile">
	  </div>

  </div>

</span>



		<form>
			<div class="form-group">
				<label for="exampleInputEmail1">Email address</label>
				<input type="email" class="form-control" id="exampleInputEmail1" placeholder="Email">
			</div>
			<div class="form-group">
				<label for="exampleInputPassword1">Password</label>
				<input type="password" class="form-control" id="exampleInputPassword1" placeholder="Password">
			</div>
			<div class="form-group">
				<label for="exampleInputFile">File input</label>
				<input type="file" id="exampleInputFile">
				<p class="help-block">Example block-level help text here.</p>
			</div>


			<button type="submit" class="btn btn-default">Submit</button>

		</form>

        <span class="checkbox">
				<label>
				<input type="checkbox"> Check me out
			</label>
			</span>

		<p><h1><span>Add a Promotion</span></h1></p>

		<form action="contact.html">
			<input type="text" name="fname" id="fname" value="Item">
			<input type="text" name="address" id="address" value="Promo ID">
			<input type="text" name="address" id="address" value="Start Date">
			<input type="text" name="email" id="email" value="End Date">
			<textarea name="message" id="message">Description</textarea>
			<input type="submit" name="send" id="send" value="send">
		</form>
	</div>
	<div id="footer">
		<div>
			<p>&copy; 2016 Bargain Bee. All rights reserved.</p>
			<ul>
				<li>
					<a href="http://freewebsitetemplates.com/go/twitter/" id="twitter">twitter</a>
				</li>
				<li>
					<a href="http://freewebsitetemplates.com/go/facebook/" id="facebook">facebook</a>
				</li>
				<li>
					<a href="http://freewebsitetemplates.com/go/googleplus/" id="googleplus">googleplus</a>
				</li>
				<li>
					<a href="http://pinterest.com/fwtemplates/" id="pinterest">pinterest</a>
				</li>
			</ul>
		</div>
	</div>
</body>
</html>
